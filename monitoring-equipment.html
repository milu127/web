<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç›‘æ§è®¾å¤‡ç®¡ç† - åŸå‹é¡µé¢</title>
    <!-- å¼•å…¥ Ant Design CSS -->
    <link href="https://cdn.jsdelivr.net/npm/antd@5.0.0/dist/reset.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1890ff;
            --success-color: #52c41a;
            --error-color: #ff4d4f;
            --warning-color: #faad14;
            --border-color: #d9d9d9;
            --table-header-bg: #fafafa;
            --table-hover-bg: #f5f5f5;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Microsoft YaHei", sans-serif;
            font-size: 14px;
            line-height: 1.5715;
            color: rgba(0, 0, 0, 0.85);
            background: #f5f5f5;
        }

        .container {
            padding: 24px;
            min-height: 100vh;
        }

        /* æ ‡ç­¾é¡µæ ·å¼ */
        .tabs-container {
            background: #fff;
            border-radius: 6px;
            padding: 16px 24px 0;
            margin-bottom: 0;
        }

        .tabs-nav {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 0;
        }

        .tab-item {
            padding: 12px 16px;
            color: rgba(0, 0, 0, 0.65);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            margin-right: 32px;
            font-size: 14px;
            position: relative;
        }

        .tab-item.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            font-weight: 500;
        }

        .tab-content {
            background: #fff;
            padding: 24px;
            border-radius: 0 0 6px 6px;
        }

        /* æœç´¢è¡¨å•æ ·å¼ */
        .search-form {
            background: #fff;
            padding: 16px;
            border-radius: 6px;
            margin-bottom: 16px;
            border: 1px solid var(--border-color);
        }

        .form-row {
            display: flex;
            align-items: center;
            gap: 24px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }

        .form-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-item label {
            white-space: nowrap;
            color: rgba(0, 0, 0, 0.85);
            min-width: 70px;
        }

        .form-input {
            padding: 4px 11px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            width: 200px;
            height: 32px;
        }

        .form-select {
            padding: 4px 11px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            width: 150px;
            height: 32px;
            background: #fff;
        }

        .btn {
            padding: 4px 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            height: 32px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .btn-primary {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: #fff;
        }

        .btn-primary:hover {
            background: #40a9ff;
            border-color: #40a9ff;
        }

        .btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* è¡¨æ ¼å®¹å™¨æ ·å¼ */
        .table-container {
            background: #fff;
            border-radius: 6px;
            border: 1px solid var(--border-color);
        }

        .table-header {
            padding: 16px 24px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-title {
            font-size: 16px;
            font-weight: 500;
            color: rgba(0, 0, 0, 0.85);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .toolbar {
            display: flex;
            gap: 8px;
        }

        /* è¡¨æ ¼æ ·å¼ */
        .table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        .table th {
            background: var(--table-header-bg);
            padding: 12px 16px;
            text-align: center;
            font-weight: 500;
            color: rgba(0, 0, 0, 0.85);
            border-bottom: 1px solid var(--border-color);
            white-space: nowrap;
        }

        .table td {
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-color);
            color: rgba(0, 0, 0, 0.85);
            text-align: center;
        }

        .table tbody tr:hover {
            background: var(--table-hover-bg);
        }

        .table th:first-child,
        .table td:first-child {
            text-align: center;
            width: 60px;
        }

        /* æ“ä½œåˆ—å·¦å¯¹é½ */
        .table th:last-child,
        .table td:last-child {
            text-align: left;
        }

        /* æ ‡ç­¾æ ·å¼ */
        .tag {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            border: 1px solid;
            display: inline-block;
        }

        .tag-success {
            color: var(--success-color);
            background: #f6ffed;
            border-color: #b7eb8f;
        }

        .tag-error {
            color: var(--error-color);
            background: #fff2f0;
            border-color: #ffccc7;
        }

        .tag-warning {
            color: var(--warning-color);
            background: #fffbe6;
            border-color: #ffe58f;
        }

        /* æ“ä½œæŒ‰é’®æ ·å¼ */
        .action-btn {
            color: var(--primary-color);
            cursor: pointer;
            text-decoration: none;
            margin-right: 12px;
            font-size: 14px;
        }

        .action-btn:hover {
            text-decoration: underline;
        }

        /* åˆ†é¡µæ ·å¼ */
        .pagination {
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--border-color);
        }

        .pagination-info {
            color: rgba(0, 0, 0, 0.65);
            font-size: 14px;
        }

        .pagination-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .page-btn {
            padding: 4px 8px;
            border: 1px solid var(--border-color);
            background: #fff;
            cursor: pointer;
            border-radius: 4px;
            min-width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .page-btn.active {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: #fff;
        }

        .page-btn:hover:not(.active) {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* å›¾æ ‡æ ·å¼ */
        .icon {
            font-style: normal;
            font-size: 14px;
        }

        /* å“åº”å¼ */
        @media (max-width: 1400px) {
            .form-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }
            
            .form-item {
                width: 100%;
            }
            
            .form-input,
            .form-select {
                width: 200px;
            }
        }

        @media (max-width: 1200px) {
            .table {
                font-size: 12px;
            }
            
            .table th,
            .table td {
                padding: 8px 12px;
            }
        }

        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.45);
            z-index: 1000;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: #fff;
            border-radius: 6px;
            width: 520px;
            max-width: 90vw;
            max-height: 90vh;
            overflow: auto;
        }

        .modal-header {
            padding: 16px 24px;
            border-bottom: 1px solid var(--border-color);
            font-size: 16px;
            font-weight: 500;
        }

        .modal-body {
            padding: 24px;
        }

        .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: 8px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            margin-bottom: 4px;
            color: rgba(0, 0, 0, 0.85);
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 4px 11px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            height: 32px;
        }

        .toast {
            position: fixed;
            top: 24px;
            right: 24px;
            background: #fff;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 12px 16px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
            z-index: 1001;
            display: none;
            min-width: 300px;
        }

        .toast.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .toast-success {
            border-left: 4px solid var(--success-color);
        }

        .toast-error {
            border-left: 4px solid var(--error-color);
        }

        /* è¯¦æƒ…æ¨¡æ€æ¡†æ ·å¼ */
        .detail-tab-item {
            padding: 12px 24px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            color: rgba(0, 0, 0, 0.65);
            font-size: 14px;
            margin-right: 32px;
        }

        .detail-tab-item.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            font-weight: 500;
        }

        .detail-tab-content {
            padding: 16px 0;
        }

        .detail-row {
            display: flex;
            margin-bottom: 12px;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .detail-label {
            width: 120px;
            font-weight: 500;
            color: rgba(0, 0, 0, 0.85);
            flex-shrink: 0;
        }

        .detail-value {
            flex: 1;
            color: rgba(0, 0, 0, 0.65);
            word-break: break-all;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- æ ‡ç­¾é¡µ -->
        <div class="tabs-container">
            <div class="tabs-nav">
                <div class="tab-item active" data-tab="station">ç«™ç‚¹è®¾å¤‡</div>
                <div class="tab-item" data-tab="warehouse">ä»“åº“è®¾å¤‡</div>
            </div>
        </div>

        <!-- æ ‡ç­¾å†…å®¹ -->
        <div class="tab-content" id="station-tab">
            <!-- æœç´¢è¡¨å• -->
            <div class="search-form">
                <div class="form-row">
                    <div class="form-item">
                        <label>ç«™ç‚¹ç¼–å·:</label>
                        <input type="text" class="form-input" placeholder="è¯·è¾“å…¥ç«™ç‚¹ç¼–å·" id="stationCode">
                    </div>
                    <div class="form-item">
                        <label>çŠ¶æ€:</label>
                        <select class="form-select" id="status">
                            <option value="">è¯·é€‰æ‹©çŠ¶æ€</option>
                            <option value="åœ¨çº¿">åœ¨çº¿</option>
                            <option value="ç¦»çº¿">ç¦»çº¿</option>
                            <option value="æœªå®‰è£…">æœªå®‰è£…</option>
                        </select>
                    </div>
                    <div class="form-item">
                        <label>ç®¡ç†æœºæ„:</label>
                        <input type="text" class="form-input" placeholder="è¯·é€‰æ‹©" id="managementOrg">
                    </div>
                    <div class="form-item">
                        <label>è¡Œæ”¿åŒºåˆ’:</label>
                        <select class="form-select" id="administrativeArea">
                            <option value="">è¯·é€‰æ‹©è¡Œæ”¿åŒºåˆ’</option>
                            <option value="ä¸‡å·åŒº">ä¸‡å·åŒº</option>
                            <option value="æ¶ªé™µåŒº">æ¶ªé™µåŒº</option>
                            <option value="æ¸ä¸­åŒº">æ¸ä¸­åŒº</option>
                            <option value="å¤§æ¸¡å£åŒº">å¤§æ¸¡å£åŒº</option>
                            <option value="æ±ŸåŒ—åŒº">æ±ŸåŒ—åŒº</option>
                            <option value="æ²™åªååŒº">æ²™åªååŒº</option>
                        </select>
                    </div>
                    <div class="form-item">
                        <label>éªŒæ”¶çŠ¶æ€:</label>
                        <select class="form-select" id="acceptanceStatus">
                            <option value="">è¯·é€‰æ‹©éªŒæ”¶çŠ¶æ€</option>
                            <option value="åˆæ ¼">åˆæ ¼</option>
                            <option value="ä¸åˆæ ¼">ä¸åˆæ ¼</option>
                        </select>
                    </div>
                    <div class="form-item">
                        <button class="btn btn-primary" onclick="handleSearch()">æŸ¥è¯¢</button>
                        <button class="btn" onclick="handleReset()">é‡ç½®</button>
                        <button class="btn">æ›´å¤š</button>
                    </div>
                </div>
            </div>

            <!-- æ•°æ®è¡¨æ ¼ -->
            <div class="table-container">
                <div class="table-header">
                    <div class="table-title">
                        <span>ç›‘æ§è®¾å¤‡åˆ—è¡¨</span>
                        <span class="icon" style="color: var(--primary-color);">ğŸ”</span>
                    </div>
                    <div class="toolbar">
                        <button class="btn" onclick="handleExport()">
                            <span class="icon">ğŸ“¤</span> å¯¼å‡º
                        </button>
                        <button class="btn" onclick="handleFullscreen()">
                            <span class="icon">â›¶</span>
                        </button>
                        <button class="btn" onclick="handleRefresh()">
                            <span class="icon">ğŸ”„</span>
                        </button>
                        <button class="btn" onclick="handleSettings()">
                            <span class="icon">âš™ï¸</span>
                        </button>
                    </div>
                </div>

                <table class="table" id="dataTable">
                    <thead>
                        <tr>
                            <th>åºå·</th>
                            <th>ç«™ç‚¹ç¼–å·</th>
                            <th>çŠ¶æ€</th>
                            <th>ç®¡ç†æœºæ„</th>
                            <th>è¡Œæ”¿åŒºåˆ’</th>
                            <th>ç›‘æ§ç‚¹æ•°é‡</th>
                            <th>å”®å½©èŒƒå›´</th>
                            <th>ç«™ç‚¹åœ°å€</th>
                            <th>å»ºç«™æ—¥æœŸ</th>
                            <th>éªŒæ”¶çŠ¶æ€</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- æ•°æ®å°†é€šè¿‡ JavaScript åŠ¨æ€å¡«å…… -->
                    </tbody>
                </table>

                <div class="pagination">
                    <div class="pagination-info">
                        å…± <span id="totalCount">2640</span> æ¡ | <span id="rangeInfo">1-20</span>
                    </div>
                    <div class="pagination-controls">
                        <button class="page-btn" onclick="goToPage(1)">Â«</button>
                        <button class="page-btn" onclick="goToPage(currentPage - 1)">â€¹</button>
                        <button class="page-btn active" onclick="goToPage(1)">1</button>
                        <button class="page-btn" onclick="goToPage(2)">2</button>
                        <button class="page-btn" onclick="goToPage(3)">3</button>
                        <button class="page-btn" onclick="goToPage(4)">4</button>
                        <button class="page-btn" onclick="goToPage(5)">5</button>
                        <button class="page-btn" onclick="goToPage(6)">6</button>
                        <span>...</span>
                        <button class="page-btn" onclick="goToPage(132)">132</button>
                        <button class="page-btn" onclick="goToPage(currentPage + 1)">â€º</button>
                        <button class="page-btn" onclick="goToPage(132)">Â»</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ä»“åº“è®¾å¤‡æ ‡ç­¾å†…å®¹ -->
        <div class="tab-content" id="warehouse-tab" style="display: none;">
            <div style="padding: 48px; text-align: center; color: rgba(0, 0, 0, 0.45);">
                <div style="font-size: 16px; margin-bottom: 8px;">ä»“åº“è®¾å¤‡ç®¡ç†åŠŸèƒ½å¼€å‘ä¸­...</div>
                <div style="font-size: 14px;">æ•¬è¯·æœŸå¾…</div>
            </div>
        </div>
    </div>

    <!-- ç¼–è¾‘æ¨¡æ€æ¡† -->
    <div class="modal" id="editModal">
        <div class="modal-content">
            <div class="modal-header">ç¼–è¾‘ç«™ç‚¹ä¿¡æ¯</div>
            <div class="modal-body">
                <div class="form-group">
                    <label>ç«™ç‚¹ç¼–å·</label>
                    <input type="text" id="editStationCode" required>
                </div>
                <div class="form-group">
                    <label>çŠ¶æ€</label>
                    <select id="editStatus" required>
                        <option value="åœ¨çº¿">åœ¨çº¿</option>
                        <option value="ç¦»çº¿">ç¦»çº¿</option>
                        <option value="æœªå®‰è£…">æœªå®‰è£…</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ç®¡ç†æœºæ„</label>
                    <input type="text" id="editManagementOrg" required>
                </div>
                <div class="form-group">
                    <label>ç«™ç‚¹åœ°å€</label>
                    <input type="text" id="editStationAddress" required>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="closeEditModal()">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveEdit()">ç¡®å®š</button>
            </div>
        </div>
    </div>

    <!-- éªŒæ”¶æ¨¡æ€æ¡† -->
    <div class="modal" id="acceptanceModal">
        <div class="modal-content" style="width: 600px;">
            <div class="modal-header">éªŒæ”¶ä¿¡æ¯</div>
            <div class="modal-body">
                <div class="form-group">
                    <label>ç«™ç‚¹ç¼–å·</label>
                    <input type="text" id="acceptanceStationCode" readonly>
                </div>
                <div class="form-group">
                    <label>æ˜¯å¦å®‰è£…</label>
                    <select id="isInstalled" onchange="toggleInstallationFields()">
                        <option value="">è¯·é€‰æ‹©</option>
                        <option value="å·²å®‰è£…">å·²å®‰è£…</option>
                        <option value="æœªå®‰è£…">æœªå®‰è£…</option>
                    </select>
                </div>
                
                <!-- æœªå®‰è£…æ—¶æ˜¾ç¤º -->
                <div id="notInstalledFields" style="display: none;">
                    <div class="form-group">
                        <label>æœªå®‰è£…åŸå› </label>
                        <textarea id="notInstalledReason" rows="3" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; resize: vertical;"></textarea>
                    </div>
                </div>
                
                <!-- å·²å®‰è£…æ—¶æ˜¾ç¤º -->
                <div id="installedFields" style="display: none;">
                    <div class="form-group">
                        <label>å›ºå®šä½æ‘„åƒå¤´</label>
                        <input type="text" id="fixedPosition">
                    </div>
                    <div class="form-group">
                        <label>åŸå› </label>
                        <textarea id="fixedPositionReason" rows="2" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; resize: vertical;"></textarea>
                    </div>
                    <div class="form-group">
                        <label>äº‘å°æ‘„åƒå¤´</label>
                        <input type="text" id="cloudPosition">
                    </div>
                    <div class="form-group">
                        <label>åŸå› </label>
                        <textarea id="cloudPositionReason" rows="2" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; resize: vertical;"></textarea>
                    </div>
                    <div class="form-group">
                        <label>æ˜¯å¦é€šè¿‡éªŒæ”¶</label>
                        <select id="acceptanceResult">
                            <option value="">è¯·é€‰æ‹©</option>
                            <option value="é€šè¿‡">é€šè¿‡</option>
                            <option value="ä¸é€šè¿‡">ä¸é€šè¿‡</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="closeAcceptanceModal()">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveAcceptance()">ç¡®å®š</button>
            </div>
        </div>
    </div>

    <!-- è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div class="modal" id="detailModal">
        <div class="modal-content" style="width: 800px; max-height: 80vh; overflow-y: auto;">
            <div class="modal-header">ç«™ç‚¹è¯¦æƒ…</div>
            <div class="modal-body">
                <div style="display: flex; border-bottom: 1px solid var(--border-color); margin-bottom: 16px;">
                    <div class="detail-tab-item active" data-tab="basic" onclick="switchDetailTab('basic')">åŸºç¡€æ•°æ®</div>
                    <div class="detail-tab-item" data-tab="acceptance" onclick="switchDetailTab('acceptance')">éªŒæ”¶æ•°æ®</div>
                </div>
                
                <!-- åŸºç¡€æ•°æ®æ ‡ç­¾ -->
                <div id="basicDataTab" class="detail-tab-content">
                    <div class="detail-row">
                        <div class="detail-label">ç«™ç‚¹ç¼–å·:</div>
                        <div class="detail-value" id="detailStationCode"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">çŠ¶æ€:</div>
                        <div class="detail-value" id="detailStatus"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">ç®¡ç†æœºæ„:</div>
                        <div class="detail-value" id="detailManagementOrg"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">è¡Œæ”¿åŒºåˆ’:</div>
                        <div class="detail-value" id="detailAdministrativeArea"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">ç›‘æ§ç‚¹æ•°é‡:</div>
                        <div class="detail-value" id="detailMonitorCount"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">å”®å½©èŒƒå›´:</div>
                        <div class="detail-value" id="detailSaleRange"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">ç«™ç‚¹åœ°å€:</div>
                        <div class="detail-value" id="detailStationAddress"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">å»ºç«™æ—¥æœŸ:</div>
                        <div class="detail-value" id="detailBuildDate"></div>
                    </div>
                </div>
                
                <!-- éªŒæ”¶æ•°æ®æ ‡ç­¾ -->
                <div id="acceptanceDataTab" class="detail-tab-content" style="display: none;">
                    <div class="detail-row">
                        <div class="detail-label">æ˜¯å¦å®‰è£…:</div>
                        <div class="detail-value" id="detailIsInstalled">å·²å®‰è£…</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">å›ºå®šä½æ‘„åƒå¤´:</div>
                        <div class="detail-value" id="detailFixedPosition">æ”¶é“¶å°å³ä¾§</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">åŸå› :</div>
                        <div class="detail-value" id="detailFixedPositionReason">è§†è§’æœ€ä½³ï¼Œèƒ½å¤Ÿæ¸…æ™°ç›‘æ§é”€å”®å°é¢</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">äº‘å°æ‘„åƒå¤´:</div>
                        <div class="detail-value" id="detailCloudPosition">åº—å†…ä¸­å¤®åŠé¡¶</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">åŸå› :</div>
                        <div class="detail-value" id="detailCloudPositionReason">è¦†ç›–å…¨åº—ç›‘æ§èŒƒå›´</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">éªŒæ”¶ç»“æœ:</div>
                        <div class="detail-value" id="detailAcceptanceResult">é€šè¿‡</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">éªŒæ”¶çŠ¶æ€:</div>
                        <div class="detail-value" id="detailAcceptanceStatusData">åˆæ ¼</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">éªŒæ”¶æ—¥æœŸ:</div>
                        <div class="detail-value" id="detailAcceptanceDate">2023-12-22 15:30:00</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="closeDetailModal()">å…³é—­</button>
            </div>
        </div>
    </div>

    <!-- æ¶ˆæ¯æç¤º -->
    <div class="toast" id="toast">
        <div id="toastMessage"></div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæ•°æ®
        const mockData = [
            {
                id: 1,
                stationCode: '40010001',
                status: 'åœ¨çº¿',
                managementOrg: 'æ¸ä¸œåŒ—',
                administrativeArea: 'ä¸‡å·åŒº',
                monitorCount: 2,
                saleRange: 'ç”µè„‘ç¥¨|å³å¼€ç¥¨',
                stationAddress: 'ä¸‡å·åŒºäº”æ¡¥å¤©æ˜Ÿè·¯299å·',
                buildDate: '2023-12-22 10:51:45',
                acceptanceStatus: 'åˆæ ¼'
            },
            {
                id: 2,
                stationCode: '40010002',
                status: 'ç¦»çº¿',
                managementOrg: 'æ¸ä¸œåŒ—',
                administrativeArea: 'ä¸‡å·åŒº',
                monitorCount: 2,
                saleRange: 'ç”µè„‘ç¥¨|å³å¼€ç¥¨',
                stationAddress: 'ä¸‡å·åŒºé™å›­è·¯697å·',
                buildDate: '2010-05-18 00:00:00',
                acceptanceStatus: 'ä¸åˆæ ¼'
            },
            {
                id: 3,
                stationCode: '40010004',
                status: 'ç¦»çº¿',
                managementOrg: 'æ¸ä¸œåŒ—',
                administrativeArea: 'ä¸‡å·åŒº',
                monitorCount: 2,
                saleRange: 'ç”µè„‘ç¥¨',
                stationAddress: 'ä¸‡å·åŒºç‹ç‰Œè·¯446å·',
                buildDate: '2002-11-01 00:00:00',
                acceptanceStatus: 'åˆæ ¼'
            },
            {
                id: 4,
                stationCode: '40010005',
                status: 'ç¦»çº¿',
                managementOrg: 'æ¸ä¸œåŒ—',
                administrativeArea: 'ä¸‡å·åŒº',
                monitorCount: 2,
                saleRange: 'å³å¼€ç¥¨',
                stationAddress: 'ä¸‡å·åŒºå›½æœ¬è·¯177å·é™„4å·',
                buildDate: '2002-12-01 00:00:00',
                acceptanceStatus: 'ä¸åˆæ ¼'
            },
            {
                id: 5,
                stationCode: '40010006',
                status: 'ç¦»çº¿',
                managementOrg: 'æ¸ä¸œåŒ—',
                administrativeArea: 'ä¸‡å·åŒº',
                monitorCount: 2,
                saleRange: 'ç”µè„‘ç¥¨|å³å¼€ç¥¨',
                stationAddress: 'ä¸‡å·åŒºäº”æ¡¥ç™¾å®‰å¤§é“93å·é—¨å¸‚',
                buildDate: '2004-11-01 00:00:00',
                acceptanceStatus: 'åˆæ ¼'
            },
            {
                id: 6,
                stationCode: '40010008',
                status: 'ç¦»çº¿',
                managementOrg: 'æ¸ä¸œåŒ—',
                administrativeArea: 'ä¸‡å·åŒº',
                monitorCount: 2,
                saleRange: 'ç”µè„‘ç¥¨',
                stationAddress: 'ä¸‡å·åŒºç‹ç‰Œè·¯2055å·',
                buildDate: '2020-04-23 00:00:00',
                acceptanceStatus: 'åˆæ ¼'
            },
            {
                id: 7,
                stationCode: '40010009',
                status: 'ç¦»çº¿',
                managementOrg: 'æ¸ä¸œåŒ—',
                administrativeArea: 'ä¸‡å·åŒº',
                monitorCount: 2,
                saleRange: 'ç”µè„‘ç¥¨|å³å¼€ç¥¨',
                stationAddress: 'ä¸‡å·åŒºäº”æ¡¥å¤©å°è·¯56å·',
                buildDate: '2024-10-12 16:22:40',
                acceptanceStatus: 'ä¸åˆæ ¼'
            },
            {
                id: 8,
                stationCode: '40010010',
                status: 'æœªå®‰è£…',
                managementOrg: 'æ¸ä¸œåŒ—',
                administrativeArea: 'ä¸‡å·åŒº',
                monitorCount: 2,
                saleRange: 'å³å¼€ç¥¨',
                stationAddress: 'ä¸‡å·åŒºç‹ç‰Œè·¯62å·é™„15',
                buildDate: '2003-04-04 00:00:00',
                acceptanceStatus: 'ä¸åˆæ ¼'
            },
            {
                id: 9,
                stationCode: '40010012',
                status: 'åœ¨çº¿',
                managementOrg: 'æ¸ä¸œåŒ—',
                administrativeArea: 'ä¸‡å·åŒº',
                monitorCount: 2,
                saleRange: 'ç”µè„‘ç¥¨|å³å¼€ç¥¨',
                stationAddress: 'ä¸‡å·åŒºåŒ—æ»¨å¤§é“äºŒæ®µ748å·8-8é—¨å¸‚',
                buildDate: '2024-04-12 10:55:11',
                acceptanceStatus: 'åˆæ ¼'
            }
        ];

        let currentPage = 1;
        let pageSize = 20;
        let filteredData = [...mockData];
        let currentEditRecord = null;

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            renderTable();
            initTabSwitching();
        });

        // æ ‡ç­¾åˆ‡æ¢åŠŸèƒ½
        function initTabSwitching() {
            const tabItems = document.querySelectorAll('.tab-item');
            const stationTab = document.getElementById('station-tab');
            const warehouseTab = document.getElementById('warehouse-tab');

            tabItems.forEach(tab => {
                tab.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰activeç±»
                    tabItems.forEach(t => t.classList.remove('active'));
                    // æ·»åŠ activeç±»åˆ°å½“å‰ç‚¹å‡»çš„æ ‡ç­¾
                    this.classList.add('active');

                    // æ˜¾ç¤ºå¯¹åº”çš„å†…å®¹
                    const tabType = this.getAttribute('data-tab');
                    if (tabType === 'station') {
                        stationTab.style.display = 'block';
                        warehouseTab.style.display = 'none';
                    } else {
                        stationTab.style.display = 'none';
                        warehouseTab.style.display = 'block';
                    }
                });
            });
        }

        // æ¸²æŸ“è¡¨æ ¼
        function renderTable() {
            const tbody = document.getElementById('tableBody');
            const startIndex = (currentPage - 1) * pageSize;
            const endIndex = Math.min(startIndex + pageSize, filteredData.length);
            const pageData = filteredData.slice(startIndex, endIndex);

            tbody.innerHTML = '';

            pageData.forEach((record, index) => {
                const row = document.createElement('tr');
                // æ ¹æ®éªŒæ”¶çŠ¶æ€å’Œè®¾å¤‡çŠ¶æ€å†³å®šæ˜¯å¦æ˜¾ç¤ºéªŒæ”¶æŒ‰é’®
                const acceptanceButton = (record.acceptanceStatus === 'åˆæ ¼' || record.status === 'æœªå®‰è£…') ? '' : 
                    `<a class="action-btn" onclick="handleAcceptance(${record.id})">éªŒæ”¶</a>`;
                
                row.innerHTML = `
                    <td>${startIndex + index + 1}</td>
                    <td><a class="action-btn" onclick="handleViewDetail(${record.id})">${record.stationCode}</a></td>
                    <td><span class="tag tag-${getStatusClass(record.status)}">${record.status}</span></td>
                    <td>${record.managementOrg}</td>
                    <td>${record.administrativeArea}</td>
                    <td>${record.monitorCount}</td>
                    <td>${record.saleRange}</td>
                    <td>${record.stationAddress}</td>
                    <td>${record.buildDate}</td>
                    <td><span class="tag tag-${getAcceptanceStatusClass(record.acceptanceStatus)}">${record.acceptanceStatus}</span></td>
                    <td>
                        <a class="action-btn" onclick="handleEdit(${record.id})">ç¼–è¾‘</a>
                        <a class="action-btn" onclick="handleVideoPlay('${record.stationCode}')">è§†é¢‘æ’­æ”¾</a>
                        ${acceptanceButton}
                    </td>
                `;
                tbody.appendChild(row);
            });

            updatePaginationInfo();
        }

        // è·å–çŠ¶æ€æ ·å¼ç±»
        function getStatusClass(status) {
            switch(status) {
                case 'åœ¨çº¿': return 'success';
                case 'ç¦»çº¿': return 'error';
                case 'æœªå®‰è£…': return 'warning';
                default: return 'success';
            }
        }

        // è·å–éªŒæ”¶çŠ¶æ€æ ·å¼ç±»
        function getAcceptanceStatusClass(status) {
            switch(status) {
                case 'åˆæ ¼': return 'success';
                case 'ä¸åˆæ ¼': return 'error';
                default: return 'success';
            }
        }

        // æ›´æ–°åˆ†é¡µä¿¡æ¯
        function updatePaginationInfo() {
            const total = filteredData.length;
            const startIndex = (currentPage - 1) * pageSize + 1;
            const endIndex = Math.min(currentPage * pageSize, total);
            
            document.getElementById('totalCount').textContent = '2640'; // æ˜¾ç¤ºæ€»æ•°æ®é‡
            document.getElementById('rangeInfo').textContent = `${startIndex}-${endIndex}`;
        }

        // æœç´¢åŠŸèƒ½
        function handleSearch() {
            const stationCode = document.getElementById('stationCode').value.trim();
            const status = document.getElementById('status').value;
            const managementOrg = document.getElementById('managementOrg').value.trim();
            const administrativeArea = document.getElementById('administrativeArea').value;
            const acceptanceStatus = document.getElementById('acceptanceStatus').value;

            filteredData = mockData.filter(item => {
                return (!stationCode || item.stationCode.includes(stationCode)) &&
                       (!status || item.status === status) &&
                       (!managementOrg || item.managementOrg.includes(managementOrg)) &&
                       (!administrativeArea || item.administrativeArea === administrativeArea) &&
                       (!acceptanceStatus || item.acceptanceStatus === acceptanceStatus);
            });

            currentPage = 1;
            renderTable();
            showToast('æŸ¥è¯¢å®Œæˆ', 'success');
        }

        // é‡ç½®åŠŸèƒ½
        function handleReset() {
            document.getElementById('stationCode').value = '';
            document.getElementById('status').value = '';
            document.getElementById('managementOrg').value = '';
            document.getElementById('administrativeArea').value = '';
            document.getElementById('acceptanceStatus').value = '';
            
            filteredData = [...mockData];
            currentPage = 1;
            renderTable();
            showToast('é‡ç½®æˆåŠŸ', 'success');
        }

        // ç¼–è¾‘åŠŸèƒ½
        function handleEdit(id) {
            currentEditRecord = mockData.find(item => item.id === id);
            if (currentEditRecord) {
                document.getElementById('editStationCode').value = currentEditRecord.stationCode;
                document.getElementById('editStatus').value = currentEditRecord.status;
                document.getElementById('editManagementOrg').value = currentEditRecord.managementOrg;
                document.getElementById('editStationAddress').value = currentEditRecord.stationAddress;
                
                document.getElementById('editModal').classList.add('show');
            }
        }

        // ä¿å­˜ç¼–è¾‘
        function saveEdit() {
            if (currentEditRecord) {
                currentEditRecord.stationCode = document.getElementById('editStationCode').value;
                currentEditRecord.status = document.getElementById('editStatus').value;
                currentEditRecord.managementOrg = document.getElementById('editManagementOrg').value;
                currentEditRecord.stationAddress = document.getElementById('editStationAddress').value;
                
                renderTable();
                closeEditModal();
                showToast('æ›´æ–°æˆåŠŸ', 'success');
            }
        }

        // å…³é—­ç¼–è¾‘æ¨¡æ€æ¡†
        function closeEditModal() {
            document.getElementById('editModal').classList.remove('show');
            currentEditRecord = null;
        }

        // è§†é¢‘æ’­æ”¾
        function handleVideoPlay(stationCode) {
            showToast(`æ­£åœ¨æ’­æ”¾ç«™ç‚¹ ${stationCode} çš„ç›‘æ§è§†é¢‘`, 'success');
        }

        // å¯¼å‡ºåŠŸèƒ½
        function handleExport() {
            showToast('å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...', 'success');
        }

        // å…¨å±åŠŸèƒ½
        function handleFullscreen() {
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                document.documentElement.requestFullscreen();
            }
        }

        // åˆ·æ–°åŠŸèƒ½
        function handleRefresh() {
            renderTable();
            showToast('åˆ·æ–°æˆåŠŸ', 'success');
        }

        // è®¾ç½®åŠŸèƒ½
        function handleSettings() {
            showToast('è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­...', 'success');
        }

        // åˆ†é¡µåŠŸèƒ½
        function goToPage(page) {
            const totalPages = Math.ceil(filteredData.length / pageSize);
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderTable();
                updatePageButtons();
            }
        }

        // æ›´æ–°åˆ†é¡µæŒ‰é’®
        function updatePageButtons() {
            const buttons = document.querySelectorAll('.page-btn');
            buttons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent == currentPage) {
                    btn.classList.add('active');
                }
            });
        }

        // æ˜¾ç¤ºæ¶ˆæ¯æç¤º
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const messageEl = document.getElementById('toastMessage');
            
            messageEl.textContent = message;
            toast.className = `toast toast-${type} show`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // éªŒæ”¶åŠŸèƒ½
        function handleAcceptance(id) {
            currentEditRecord = mockData.find(item => item.id === id);
            if (currentEditRecord) {
                document.getElementById('acceptanceStationCode').value = currentEditRecord.stationCode;
                document.getElementById('isInstalled').value = '';
                document.getElementById('notInstalledReason').value = '';
                document.getElementById('fixedPosition').value = '';
                document.getElementById('fixedPositionReason').value = '';
                document.getElementById('cloudPosition').value = '';
                document.getElementById('cloudPositionReason').value = '';
                document.getElementById('acceptanceResult').value = '';
                
                // éšè—æ‰€æœ‰æ¡ä»¶å­—æ®µ
                document.getElementById('notInstalledFields').style.display = 'none';
                document.getElementById('installedFields').style.display = 'none';
                
                document.getElementById('acceptanceModal').classList.add('show');
            }
        }

        // åˆ‡æ¢å®‰è£…çŠ¶æ€ç›¸å…³å­—æ®µ
        function toggleInstallationFields() {
            const isInstalled = document.getElementById('isInstalled').value;
            const notInstalledFields = document.getElementById('notInstalledFields');
            const installedFields = document.getElementById('installedFields');
            
            if (isInstalled === 'æœªå®‰è£…') {
                notInstalledFields.style.display = 'block';
                installedFields.style.display = 'none';
            } else if (isInstalled === 'å·²å®‰è£…') {
                notInstalledFields.style.display = 'none';
                installedFields.style.display = 'block';
            } else {
                notInstalledFields.style.display = 'none';
                installedFields.style.display = 'none';
            }
        }

        // ä¿å­˜éªŒæ”¶ä¿¡æ¯
        function saveAcceptance() {
            const isInstalled = document.getElementById('isInstalled').value;
            if (!isInstalled) {
                showToast('è¯·é€‰æ‹©æ˜¯å¦å®‰è£…', 'error');
                return;
            }
            
            if (isInstalled === 'æœªå®‰è£…') {
                const reason = document.getElementById('notInstalledReason').value.trim();
                if (!reason) {
                    showToast('è¯·å¡«å†™æœªå®‰è£…åŸå› ', 'error');
                    return;
                }
            } else if (isInstalled === 'å·²å®‰è£…') {
                const fixedPosition = document.getElementById('fixedPosition').value.trim();
                const acceptanceResult = document.getElementById('acceptanceResult').value;
                
                if (!fixedPosition) {
                    showToast('è¯·å¡«å†™å›ºå®šä½æ‘„åƒå¤´', 'error');
                    return;
                }
                if (!acceptanceResult) {
                    showToast('è¯·é€‰æ‹©éªŒæ”¶ç»“æœ', 'error');
                    return;
                }
                
                // æ›´æ–°éªŒæ”¶çŠ¶æ€
                if (currentEditRecord) {
                    currentEditRecord.acceptanceStatus = acceptanceResult === 'é€šè¿‡' ? 'åˆæ ¼' : 'ä¸åˆæ ¼';
                }
            }
            
            renderTable();
            closeAcceptanceModal();
            showToast('éªŒæ”¶ä¿¡æ¯ä¿å­˜æˆåŠŸ', 'success');
        }

        // å…³é—­éªŒæ”¶æ¨¡æ€æ¡†
        function closeAcceptanceModal() {
            document.getElementById('acceptanceModal').classList.remove('show');
        }

        // æŸ¥çœ‹è¯¦æƒ…
        function handleViewDetail(id) {
            const record = mockData.find(item => item.id === id);
            if (record) {
                // å¡«å……åŸºç¡€æ•°æ®
                document.getElementById('detailStationCode').textContent = record.stationCode;
                document.getElementById('detailStatus').innerHTML = `<span class="tag tag-${getStatusClass(record.status)}">${record.status}</span>`;
                document.getElementById('detailManagementOrg').textContent = record.managementOrg;
                document.getElementById('detailAdministrativeArea').textContent = record.administrativeArea;
                document.getElementById('detailMonitorCount').textContent = record.monitorCount;
                document.getElementById('detailSaleRange').textContent = record.saleRange;
                document.getElementById('detailStationAddress').textContent = record.stationAddress;
                document.getElementById('detailBuildDate').textContent = record.buildDate;
                
                // å¡«å……éªŒæ”¶æ•°æ®
                document.getElementById('detailAcceptanceStatusData').innerHTML = `<span class="tag tag-${getAcceptanceStatusClass(record.acceptanceStatus)}">${record.acceptanceStatus}</span>`;
                
                // æ˜¾ç¤ºè¯¦æƒ…æ¨¡æ€æ¡†
                document.getElementById('detailModal').classList.add('show');
                
                // é»˜è®¤æ˜¾ç¤ºåŸºç¡€æ•°æ®æ ‡ç­¾
                switchDetailTab('basic');
            }
        }

        // åˆ‡æ¢è¯¦æƒ…æ ‡ç­¾
        function switchDetailTab(tabName) {
            // æ›´æ–°æ ‡ç­¾çŠ¶æ€
            document.querySelectorAll('.detail-tab-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            
            // æ˜¾ç¤ºå¯¹åº”å†…å®¹
            document.getElementById('basicDataTab').style.display = tabName === 'basic' ? 'block' : 'none';
            document.getElementById('acceptanceDataTab').style.display = tabName === 'acceptance' ? 'block' : 'none';
        }

        // å…³é—­è¯¦æƒ…æ¨¡æ€æ¡†
        function closeDetailModal() {
            document.getElementById('detailModal').classList.remove('show');
        }

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        document.getElementById('editModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeEditModal();
            }
        });

        document.getElementById('acceptanceModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAcceptanceModal();
            }
        });

        document.getElementById('detailModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeDetailModal();
            }
        });
    </script>
</body>
</html> 